{
    "collab_server" : "",
    "contents" : "\n---\nname: \"Freddy Drennan\"\ntitle: \"scrapeJs\"\ndate: \"May 7, 2017\"\noutput:\n  html_document:\n    toc: true\n    toc_float:\n      collapsed: true\n      smooth_scroll: true\n    theme: cerulean\n    highlight: haddock\n    fig_align: center\n---\n\n\n<style>\nbody {\n    background-color: #BCE6FF\n}\n</style>\n\n<link rel=\"stylesheet\" href=\"http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css\">\n\n<div id=\"fb-root\"></div>\n<script>(function(d, s, id) {\n  var js, fjs = d.getElementsByTagName(s)[0];\n  if (d.getElementById(id)) return;\n  js = d.createElement(s); js.id = id;\n  js.src = \"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.9&appId=1440881362667639\";\n  fjs.parentNode.insertBefore(js, fjs);\n}(document, 'script', 'facebook-jssdk'));</script>\n\n<div>\n\n<!-- Footer -->\n<header>\n<!-- <div class=\"container\"> -->\n<div class=\"row\">\n<div class=\"col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1\">\n<ul class=\"list-inline text-center\">\n<li>\n<a href=\"http://fdrennan.net\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-arrow-left fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li>\n<li>\n<a href=\"mailto:drennanfreddy@gmail.com?Subject=Hello\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-envelope fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li>\n<li>\n<a href=\"https://www.linkedin.com/in/freddy-drennan-4a8b79aa\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-linkedin fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li>\n<li>\n<a href=\"http://facebook.com/freddy.drennan\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-facebook fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li> \n<li>\n<a href=\"http://kaggle.com/fdrennan\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-area-chart fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li> \n<li>\n<a href=\"https://github.com/fdrennan\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-github fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</header>\n\n################################################\n\n<h1>\nMotivation\n</h1>\n\nCode adapted from http://r-bloggers.com/web-scraping-javascript-rendered-sites/\n\nCurrently WINDOWS ONLY. This is because of the phantomjs.exe file requred to run the script. \n\nSo, what's the deal? At multiple times in my life I've had to scrape some data from the internet. Often, it's easy. Pages are generally in html format and all the tables are set up in a nice, clean format. `rvest` is a fantastic package. Look it up. However, it falls short when the page is written in javascript. This is where all the code I've written comes in handy. \n\n<h1>\nWhere to Get It\n</h1>\nThis code is an explanation of the `openMe.R` file contained within the github code you need to download here:  https://github.com/fdrennan/scrapeJs \n\n<h1>\nThe Problem\n</h1>\n\nI was trying to figure out how to scrape some pages in javascript format. For example, the page I'm going to show you is written in javascript and has a clear table format. You'll notice quickly that the site doesn't return any information. Check the site out here: http://www.scoreboard.com/mlb/standings/\n\n\n```{r, message = FALSE, warning = FALSE}\nlibrary(rvest)\n\nwebsite = read_html(\"http://www.scoreboard.com/mlb/standings/\") %>% \n  html_table()\n\nwebsite\n\n```\n\n<h1>\nThe Solution\n</h1>\n\nThat's where this code comes into play. You'll need to download it from  here: https://github.com/fdrennan/scrapeJs. Set it in your R project's directory and use it when you need to scrape these javascript websites. Run the code below to source the function to use. The files that must be contained within the directory are :\n\n```\nscrapePage.txt\nopenMe.R\nscrapeJs.R\nphantomjs.exe\n```\n\nLet's use the `openMe.R` file to run the `source` function. \n\n```{r, eval = FALSE, message = FALSE, warning = FALSE}\nsource(\"scrapeJs.R\")\n```\n\nNext, put the name of the webiste you are trying to scrape and the output name you desire. \n\n```{r, message = FALSE, warning = FALSE}\nsite = \"http://www.scoreboard.com/mlb/fixtures/\"\noutput = \"website.html\"\n```\n\nRun the code. The function will edit the javascript code to the website name and output you placed and run the javascript.exe file to scrape the website and save it to your working directory. \n\n```{r, eval = FALSE, message = FALSE, warning = FALSE}\nscrapeJs(siteName = site, outputName = output)\n```\n\n<h1>\nProof\n</h1>\n\nNow, the website is in the current working directory and you can now you rvest on it. \n\n```{r, message = FALSE, warning = FALSE}\nwebsite = read_html(output) %>% \n  html_table()\n\n\nDT::datatable(website[[1]])\n```\n\nLet me know if you have any issues!\n\n\n<h1>\nYour Turn\n</h1>\n\nCheck out: https://weather.com/weather/hourbyhour/l/20001:4:US and verity that rvest alone doesn't work, but after using the script it does. : ) You may need to use `html_table(fill = TRUE)` for this page. \n\n\n\n\n\n\n\n\n\n\n\n\n##############################################\n<div>\n\n<!-- Footer -->\n<header>\n<!-- <div class=\"container\"> -->\n<div class=\"row\">\n<div class=\"col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1\">\n<ul class=\"list-inline text-center\">\n<li>\n<a href=\"http://fdrennan.net\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-arrow-left fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li>\n<li>\n<a href=\"mailto:drennanfreddy@gmail.com?Subject=Hello\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-envelope fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li>\n<li>\n<a href=\"https://www.linkedin.com/in/freddy-drennan-4a8b79aa\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-linkedin fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li>\n<li>\n<a href=\"http://facebook.com/freddy.drennan\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-facebook fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li> \n<li>\n<a href=\"http://kaggle.com/fdrennan\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-area-chart fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li> \n<li>\n<a href=\"https://github.com/fdrennan\">\n<span class=\"fa-stack fa-lg\">\n<i class=\"fa fa-circle fa-stack-2x\"></i>\n<i class=\"fa fa-github fa-stack-1x fa-inverse\"></i>\n</span>\n</a>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</header>\n\n<div class=\"fb-comments\" data-href=\"http://fdrennan.net/pages/pages2/explanation.html\" data-numposts=\"5\"></div>\n\n\n",
    "created" : 1494965907116.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1346649672",
    "id" : "AD6F332E",
    "lastKnownWriteTime" : 1494965825,
    "last_content_update" : 1494965825,
    "path" : "C:/Users/Freddy Drennan/Desktop/scrapeJs/explanation.Rmd",
    "project_path" : "explanation.Rmd",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}